<!DOCTYPE html>
<html xmlns:th="http://www-thymeleaf.org">
<head th:replace="fragments/head::head">
</head>
<body>
	<div class="body-wrapper">
		<!-- Begin Header Area -->
		<header th:replace="fragments/header::header"> </header>
		<!-- Header Area End Here -->
		<!-- Begin Li's Breadcrumb Area -->
		<div class="breadcrumb-area">
			<div class="container">
				<div class="breadcrumb-content">
					<ul>
						<li><a th:href="@{/index}">Home</a></li>
						<li class="active">Carrito de compras</li>
					</ul>
				</div>
			</div>
		</div>

		<div class="Shopping-cart-area pt-60 pb-60">
			<div class="container">
				<div class="row">
					<div class="col-12">
						
							<div class="table-content table-responsive">
								<table class="table">
									<thead>
										<tr>
											<th class="li-product-thumbnail">Foto</th>
											<th class="cart-product-name">Producto</th>
											<th class="li-product-price">Precio Unitario</th>
											<th class="li-product-quantity">Cantidad</th>
											<th class="li-product-subtotal">Total</th>
											<th class="li-product-remove">Eliminar</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="carrito: ${listarCarrito}">

											<td class="li-product-thumbnail"><a href="#"><img
													th:src="@{'/uploads/'+${carrito.foto}}"
													alt="Li's Product Image" th:style="'width: 80px;'"></a></td>
											<td class="li-product-name"><a href="#"
												th:text="${carrito.nombre}"></a></td>
											<td class="li-product-price"><span class="amount"
												th:text="'S/ '+${carrito.precioCompra}"></span></td>
											<td class="quantity"><label
												th:text="${carrito.cantidad}"></label></td>
											<td class="product-subtotal"><span class="amount"
												th:text="'S/ '+${carrito.subTotal}"></span></td>
											<td><a th:onclick="eliminar([[${carrito.idproducto}]])"
												class="btn btn-danger" th:style="'color: white;'">Eliminar</a></td>
												<!--  th:href="@{/delete/}+${carrito.idproducto}" -->  
										</tr>
									</tbody>
								</table>
							</div>
							<form th:action="@{/descuento}" method="get">
							<div class="row">
								<div class="col-12">
									<div class="coupon-all">
										<div class="coupon">
											<input name="cupon" class="input-text" value=""
												placeholder="Codigo cupon" type="text"> 
											<input class="button" type="submit" value="Aplicar cupon" />

										</div>

									</div>
								</div>
							</div>
							</form>
							<div class="row">
								<div class="col-md-5 ml-auto">
									<div class="cart-page-total">
										<h2>Total del Carrito</h2>
										<ul>
											<li>Subtotal <span th:text="'S/  '+${totalPagarSinDescuento}"></span></li>
											<li>Descuento <span th:text="'S/ '+${totalPagarSinDescuento-totalPagar}"></span></li>
											<li>Total <span th:text="'S/  '+${totalPagar}"></span></li>
										</ul>
										<a th:href="@{/compra}">Procesar compra</a>
									</div>
								</div>
							</div>
						
					</div>
				</div>
			</div>
		</div>

		<div class="footer" th:replace="fragments/footer :: footer"></div>
	</div>
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	
	<script  th:src="@{/js/funciones.js}"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
		crossorigin="anonymous"></script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

	<script src="//code.tidio.co/wcwjpa0p5jh0w0clt1tj9edx7fz1g6wi.js" async></script>
	<script th:src="@{/js/vendor/jquery-1.12.4.min.js}"></script>
	<!-- Popper js -->
	<script th:src="@{/js/vendor/popper.min.js}"></script>
	<!-- Bootstrap V4.1.3 Fremwork js -->
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<!-- Ajax Mail js -->
	<script th:src="@{/js/ajax-mail.js}"></script>
	<!-- Meanmenu js -->
	<script th:src="@{/js/jquery.meanmenu.min.js}"></script>
	<!-- Wow.min js -->
	<script th:src="@{/js/wow.min.js}"></script>
	<!-- Slick Carousel js -->
	<script th:src="@{/js/slick.min.js}"></script>
	<!-- Owl Carousel-2 js -->
	<script th:src="@{/js/owl.carousel.min.js}"></script>
	<!-- Magnific popup js -->
	<script th:src="@{/js/jquery.magnific-popup.min.js}"></script>
	<!-- Isotope js -->
	<script th:src="@{/js/isotope.pkgd.min.js}"></script>
	<!-- Imagesloaded js -->
	<script th:src="@{/js/imagesloaded.pkgd.min.js}"></script>
	<!-- Mixitup js -->
	<script th:src="@{/js/jquery.mixitup.min.js}"></script>
	<!-- Countdown -->
	<script th:src="@{/js/jquery.countdown.min.js}"></script>
	<!-- Counterup -->
	<script th:src="@{/js/jquery.counterup.min.js}"></script>
	<!-- Waypoints -->
	<script th:src="@{/js/waypoints.min.js}"></script>
	<!-- Barrating -->
	<script th:src="@{/js/jquery.barrating.min.js}"></script>
	<!-- Jquery-ui -->
	<script th:src="@{/js/jquery-ui.min.js}"></script>
	<!-- Venobox -->
	<script th:src="@{/js/venobox.min.js}"></script>
	<!-- Nice Select js -->
	<script th:src="@{/js/jquery.nice-select.min.js}"></script>
	<!-- ScrollUp js -->
	<script th:src="@{/js/scrollUp.min.js}"></script>
	<!-- Main/Activator js -->
	<script th:src="@{/js/main.js}"></script>
</body>
</html>